<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chiáº¿n Háº¡m 001 - Gametoiden</title>
    <style>
        body { font-family: 'Arial', sans-serif; background: #0a192f; color: white; text-align: center; margin: 0; padding: 10px; }
        .grid { display: grid; grid-template-columns: repeat(10, 8vw); grid-template-rows: repeat(10, 8vw); gap: 1px; background: #172a45; border: 2px solid #64ffda; margin: 10px auto; width: 80vw; max-width: 350px; }
        .grid div { background: #0a192f; border: 1px solid #112240; box-sizing: border-box; }
        .ship { background: #64ffda !important; }
        .hit { background: #f57d7d !important; position: relative; }
        .hit::after { content: 'ğŸ’¥'; position: absolute; left: 0; font-size: 12px; width: 100%; }
        .miss { background: #303c55 !important; position: relative; }
        .miss::after { content: 'ğŸ’§'; position: absolute; left: 0; font-size: 12px; width: 100%; }
        .btn { padding: 12px 24px; background: #64ffda; color: #0a192f; border: none; border-radius: 5px; font-weight: bold; margin: 10px; cursor: pointer; }
        .status { color: #ccd6f6; margin: 15px; font-size: 1.1rem; min-height: 1.5em; }
    </style>
</head>
<body>
    <h2>ğŸš€ CHIáº¾N Háº M 001</h2>
    <div class="status" id="info">Äang quÃ©t radar...</div>
    
    <div id="game-container">
        <p>Báº¢N Äá»’ Äá»ŠCH (Cháº¡m Ä‘á»ƒ báº¯n)</p>
        <div class="grid" id="computer-grid"></div>
        
        <p>Báº¢N Äá»’ Cá»¦A Báº N</p>
        <div class="grid" id="user-grid"></div>
    </div>

    <button class="btn" onclick="location.reload()">CHÆ I Láº I</button>

    <script>
        const userGrid = document.getElementById('user-grid');
        const computerGrid = document.getElementById('computer-grid');
        const info = document.getElementById('info');
        const userSquares = [];
        const computerSquares = [];
        const enemyShips = [];
        let gameOver = false;

        // Táº¡o bÃ n cá»
        for (let i = 0; i < 100; i++) {
            const uSquare = document.createElement('div');
            userGrid.appendChild(uSquare);
            userSquares.push(uSquare);

            const cSquare = document.createElement('div');
            cSquare.dataset.id = i;
            cSquare.onclick = () => playerShoot(i);
            computerGrid.appendChild(cSquare);
            computerSquares.push(cSquare);
        }

        // MÃ¡y Ä‘áº·t tÃ u ngáº«u nhiÃªn (Ä‘Æ¡n giáº£n hÃ³a)
        while(enemyShips.length < 15) {
            let r = Math.floor(Math.random() * 100);
            if(!enemyShips.includes(r)) enemyShips.push(r);
        }

        // Äáº·t tÃ u cho ngÆ°á»i chÆ¡i (ngáº«u nhiÃªn)
        const myShips = [11,12,13, 33,43,53, 77,78, 90,91,92,93];
        myShips.forEach(s => userSquares[s].classList.add('ship'));

        info.innerText = "Radar Ä‘Ã£ sáºµn sÃ ng! Báº¯n tÃ u Ä‘á»‹ch ngay!";

        function playerShoot(i) {
            if(gameOver || computerSquares[i].classList.contains('hit') || computerSquares[i].classList.contains('miss')) return;

            if(enemyShips.includes(i)) {
                computerSquares[i].classList.add('hit');
                info.innerText = "ğŸ’¥ TRÃšNG Rá»’I! Tuyá»‡t láº¯m!";
                checkWin();
            } else {
                computerSquares[i].classList.add('miss');
                info.innerText = "ğŸ’§ Há»¥t rá»“i! Chá» Ä‘á»‹ch pháº£n cÃ´ng...";
                setTimeout(computerShoot, 600);
            }
        }

        function computerShoot() {
            if(gameOver) return;
            let r = Math.floor(Math.random() * 100);
            if(userSquares[r].classList.contains('hit') || userSquares[r].classList.contains('miss')) return computerShoot();

            if(myShips.includes(r)) {
                userSquares[r].classList.add('hit');
                info.innerText = "âš ï¸ Äá»ŠCH Báº®N TRÃšNG TÃ€U Báº N!";
            } else {
                userSquares[r].classList.add('miss');
                info.innerText = "ğŸ˜… MÃ¡y báº¯n há»¥t! Äáº¿n lÆ°á»£t báº¡n.";
            }
        }

        function checkWin() {
            const hits = document.querySelectorAll('#computer-grid .hit').length;
            if(hits === enemyShips.length) {
                info.innerText = "ğŸ† CHÃšC Má»ªNG! Báº N ÄÃƒ THáº®NG!";
                gameOver = true;
            }
        }
    </script>
</body>
</html>
